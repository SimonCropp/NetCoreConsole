<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /readme.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

This shows how to build a netcore3 console app, including all files needed to deploy to a system with netcore already installed.

This sample targets one dependency (NodaTime) for illustrative purposes

<!-- toc -->
## Contents

  * [Publish Profile](#publish-profile)
    * [Default](#default)
    * [Framework Dependent](#framework-dependent)
    * [Single Exe](#single-exe)
    * [Single Exe and Framework Dependent](#single-exe-and-framework-dependent)
<!-- endtoc -->



## Publish Profile


### Default

<!-- snippet: Default.pubxml -->
<a id='snippet-Default.pubxml'/></a>
```pubxml
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PublishProtocol>FileSystem</PublishProtocol>
    <Configuration>Release</Configuration>
    <Platform>Any CPU</Platform>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <PublishDir>bin\Release\publish\Default\</PublishDir>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
  </PropertyGroup>
</Project>
```
<sup>[snippet source](/src/MyConsole/Properties/PublishProfiles/Default.pubxml#L1-L11) / [anchor](#snippet-Default.pubxml)</sup>
<!-- endsnippet -->

~250 files
~70MB

```
dotnet publish MyConsole\MyConsole.csproj  /p:PublishProfile=Default
```


### Framework Dependent

<!-- snippet: Fwd.pubxml -->
<a id='snippet-Fwd.pubxml'/></a>
```pubxml
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PublishProtocol>FileSystem</PublishProtocol>
    <Configuration>Release</Configuration>
    <Platform>Any CPU</Platform>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <PublishDir>bin\Release\publish\Fwd\</PublishDir>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>false</SelfContained>
  </PropertyGroup>
</Project>
```
<sup>[snippet source](/src/MyConsole/Properties/PublishProfiles/Fwd.pubxml#L1-L12) / [anchor](#snippet-Fwd.pubxml)</sup>
<!-- endsnippet -->

~5 files
~600KB

```
dotnet publish MyConsole\MyConsole.csproj  /p:PublishProfile=Fwd
```


### Single Exe

<!-- snippet: SingleExe.pubxml -->
<a id='snippet-SingleExe.pubxml'/></a>
```pubxml
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PublishProtocol>FileSystem</PublishProtocol>
    <Configuration>Release</Configuration>
    <Platform>Any CPU</Platform>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <PublishDir>bin\Release\publish\SingleExe\</PublishDir>
    <PublishSingleFile>true</PublishSingleFile>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
  </PropertyGroup>
</Project>
```
<sup>[snippet source](/src/MyConsole/Properties/PublishProfiles/SingleExe.pubxml#L1-L12) / [anchor](#snippet-SingleExe.pubxml)</sup>
<!-- endsnippet -->

~1 file
~70MB

```
dotnet publish MyConsole\MyConsole.csproj  /p:PublishProfile=SingleExe
```


### Single Exe and Framework Dependent

<!-- snippet: SingleExeFwd.pubxml -->
<a id='snippet-SingleExeFwd.pubxml'/></a>
```pubxml
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PublishProtocol>FileSystem</PublishProtocol>
    <Configuration>Release</Configuration>
    <Platform>Any CPU</Platform>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <PublishDir>bin\Release\publish\SingleExeFwd\</PublishDir>
    <PublishSingleFile>true</PublishSingleFile>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <SelfContained>false</SelfContained>
  </PropertyGroup>
</Project>
```
<sup>[snippet source](/src/MyConsole/Properties/PublishProfiles/SingleExeFwd.pubxml#L1-L13) / [anchor](#snippet-SingleExeFwd.pubxml)</sup>
<!-- endsnippet -->

~1 file
~600KB

```
dotnet publish MyConsole\MyConsole.csproj  /p:PublishProfile=SingleExeFwd
```
